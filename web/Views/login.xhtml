<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Guide Touristique Application</title>
        <link href="resources/css/login.css" type="text/css" rel="stylesheet"/>
    </h:head>
    <h:body>

        <spacer height="200px"></spacer>
        <center >
            <div class="conteiner">

                <h:form id="form" >                   

                    <p:panel  id="panel" style="font-weight: bold;" header="Authentification">
                              
                        
                        <f:facet name="footer">

                            <div align="center"> 
                                Syst√®me de Guide Touristique
                            </div>      
                        </f:facet>
                        <div align="center">
                            
                            <br/>

                            <p:outputLabel  value="&nbsp;&nbsp;Merci de vous authentifier " style="color: crimson ; font-weight: bold;"/>

                            <br/>

                            <h:panelGrid columns="5"  >
                                <br/>
                                <br/>
                                <img src="../resources/images/default_app_logo.png" width="180" height="150" alt="default_app_logo"/>

                                <h:outputLabel></h:outputLabel>
                                <h:outputLabel></h:outputLabel>

                                <h:outputLabel></h:outputLabel>


                                <h:panelGrid columns="2" cellspacing="5" >

                                    <h:outputLabel for="login" value="Nom d'utilisateur : " style="font-weight: bold;" />
                                    <p:inputText  value="#{LoginManagedBean.utilisateur.login}"
                                                  requiredMessage="Nom d'utilisateur : champs obligatoire"
                                                  id="login" required="true"  > 
                                    </p:inputText>
                                     <p:watermark for="login" value="Nom utilisateur*"/>
                                    <p:message for="login"/>

                                    <h:outputLabel for="Motdepasse" value="Mot de passe : " style="font-weight: bold;" />
                                    <p:password value="#{LoginManagedBean.utilisateur.password}" required="true" 
                                                requiredMessage="Mot de passe : champs obligatoire" id="Motdepasse" />
                                    <p:watermark for="Motdepasse" value="Mot de passe*"/>
                                    <p:message for="Motdepasse"/>
                                   
                                </h:panelGrid>
                            </h:panelGrid>
 
                            <br></br>

                            <p:commandButton id="loginButton" value="Se connecter" actionListener="#{LoginManagedBean.login(actionEvent)}"
                                             oncomplete="handleLoginRequest(xhr, status, args)" update=":form:panel" ajax="true" icon="ui-icon-check"/>
                        </div>
                        <br/>
                        <div align="left">
                        <h:outputLabel value="*" style="color: #000000;font-weight: bolder;"></h:outputLabel>
                        <h:outputLabel value=" Champs obligatoire" style="color: crimson ; font-weight: bold;"></h:outputLabel>
                        </div>

                    </p:panel>



                </h:form>


            </div>
            <script type="text/javascript">
                function handleLoginRequest(xhr, status, args) {
                    if (args.validationFailed || !args.loggedIn) {
                        jQuery('#form').effect("shake",{times: 2},100);


                    }
                    else {

                        location.href = args.maha;

                    }

                }







            </script>
        </center>
    </h:body>
</html>

